services:
  authentication.hawk:
    class: Drupal\hawk\Authentication\Provider\Hawk
    arguments: [ '@hawk.server', '@entity.manager' ]
    tags:
      - { name: authentication_provider, provider_id: hawk, priority: 100 }
  hawk.server:
    class: Dragooon\Hawk\Server\Server
    arguments: [ '@hawk.crypto', '@hawk.credentials_provider', '@hawk.time_provider', '@hawk.nonce_validator', 60, 0 ]
    tags:
      - { name: hawk_server_provider }
  hawk.crypto:
    class: Dragooon\Hawk\Crypto\Crypto
    tags:
      - { name: hawk_crypto }
  hawk.credentials_provider:
    class: Drupal\hawk\Credentials\CredentialsProvider
    arguments: ['@entity.manager']
    tags:
      - { name: hawk_credentials_provider }
  hawk.time_provider:
    class: Dragooon\Hawk\Time\TimeProvider
    tags:
      - { name: hawk_time_provider }
  hawk.nonce_validator:
    class: Drupal\hawk\Nonce\NonceValidator
    tags:
      - { name: hawk_nonce_validator }
  hawk.page_cache_request_policy.disallow_hawk_requests:
    class: Drupal\hawk\PageCache\DisallowHawkRequests
    public: false
    arguments: [ '@hawk.server' ]
    tags:
      - { name: page_cache_request_policy }
